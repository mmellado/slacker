var Slacker=function(){function a(a){function c(){var a,b=i(),c=b.length,d=0;if(c)for(d;c>d;d++)a=b[d],j(a)&&h.renderImage(a)}function d(a,b){return g?!1:(clearTimeout(g),void(g=setTimeout(function(){a.apply(this),g=null},b)))}function e(){d(c,100)}function f(){window.addEventListener?(window.addEventListener("load",c,!1),window.addEventListener("scroll",e,!1),window.addEventListener("resize",e,!1)):window.attachEvent&&(window.attachEvent("onload",c),window.attachEvent("onscroll",e),window.attachEvent("onresize",e))}var g,h=this;a=a||{},a.dataAttribute=a.dataAttribute||"data-img-src",a.imageSelector=a.imageSelector||"img["+a.dataAttribute+"]",a.preCallback=a.preCallback||b,a.postCallback=a.postCallback||b,a.offset=a.offset||100,f(),h.renderImage=function(b){var c,d=a.dataAttribute;b.hasAttribute(d)&&(c=b.getAttribute(d),c=a.preCallback(b,c)||b.getAttribute(d),b.setAttribute("src",c),b.removeAttribute(d),a.postCallback(b))},h.renderAllImages=function(){var a=i(),b=a.length,c=0;for(c;b>c;c++)h.renderImage(a[c])},h.destroy=function(){window.addEventListener?(window.removeEventListener("scroll",e),window.removeEventListener("resize",e)):(window.detachEvent("onscroll",e),window.detachEvent("onresize",e))};var i=function(){return document.querySelectorAll(a.imageSelector)},j=function(b){var c=b.getBoundingClientRect(),d={left:0-a.offset,top:0-a.offset,bottom:(window.innerHeight||document.documentElement.clientHeight)+a.offset,right:(window.innerWidth||document.documentElement.clientWidth)+a.offset};return c.right>=d.left&&c.bottom>=d.top&&c.left<=d.right&&c.top<=d.bottom}}var b=function(){};return a.init=function(b){return new a(b)},a}();